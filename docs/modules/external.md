# External Module

The External module allows you to import and embed complete HTML sites from remote ZIP archives. This is useful for integrating externally generated content or third-party site components.

## Options

#### `href`
- **Type:** String (URL)
- **Optional**
- **Description:** URL to a ZIP file containing a complete HTML site. When specified, the module will download, extract, and integrate the site into your static site tree.

## How It Works

When you specify an `href` pointing to a ZIP file:

1. **Download:** The module downloads the ZIP file from the provided URL
2. **Extract:** Extracts all files from the archive
3. **Integration:** Automatically integrates the content:
   - CSS files become stylesheets in the site tree
   - `index.html` files are parsed and added as pages
   - Other resources (images, fonts, etc.) are added as resources
4. **Hierarchy:** Preserves the folder structure from the ZIP archive

## Use Cases

### Embedding External Documentation

```markdown
<!--
[external]
href = "https://docs.example.com/exports/api-docs.zip"
-->

# API Documentation

The complete API documentation is embedded below...
```

### Integrating Generated Content

Useful for embedding:
- Documentation generated by tools like Sphinx, JSDoc, or Doxygen
- Data visualizations exported as standalone HTML
- Component showcases from tools like Storybook
- Reports generated by external systems

### Including Third-Party Widgets

```markdown
<!--
[external]
href = "https://widgets.example.com/calculator/export.zip"
-->

# Interactive Calculator

Below is an interactive calculator widget...
```

## ZIP Archive Structure

Your ZIP archive should have a structure like:

```
site.zip
├── index.html          # Main page (required)
├── styles.css          # Will be added as stylesheet
├── script.js           # Will be added as resource
├── images/
│   ├── logo.png
│   └── banner.jpg
└── lib/
    └── vendor.js
```

## Supported File Types

- **HTML:** `index.html` files are parsed and rendered as pages
- **CSS:** `.css` files are added as stylesheets and automatically linked
- **Resources:** All other files (images, fonts, JS, etc.) are preserved as resources

## Important Notes

- **Security:** Only download ZIP files from trusted sources. The module executes HTTP requests to external URLs.
- **File Paths:** The extracted files maintain their relative paths from the ZIP archive.
- **Folder Structure:** Directories in the ZIP become folders in the site tree.
- **Nested Content:** You can have multiple `index.html` files in different folders within the ZIP.
- **No Recursion:** The module doesn't follow links within the external content to download additional files.

## Limitations

- Only supports ZIP format
- Downloads are synchronous (blocking)
- Large archives may increase build time
- External content should be self-contained within the ZIP

## Troubleshooting

### ZIP fails to download
- Verify the URL is accessible
- Check internet connectivity
- Ensure the URL points to a valid ZIP file

### Content not appearing
- Verify the ZIP contains an `index.html` file
- Check that paths within the HTML are relative, not absolute
- Ensure CSS and resources use relative paths

### Styling conflicts
- External CSS may conflict with your site's CSS
- Consider using more specific selectors
- The module applies external stylesheets in the order they're discovered
